{
  "hash": "489188c577c0d81787e71ed10142d1ff",
  "result": {
    "markdown": "---\ntitle: \"R Coding Exercise\"\n---\n\n\n\n# Purpose\n\nThe following is an R coding excerise on loading, viewing, processing, and visualizing data in R. We complete all analysis on the `gapminder` dataset. \n\nAll code chunks are echoed for ease of viewing. \n\nThe following chunk loads all libraries which will be used during this exercise. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n## install packages and load required libraries\n\n# install.packages(\"dslabs\") #lines to install required packages are commented\nlibrary(dslabs) #load dslabs library\n\n# install.packages(\"tidyverse\") #install and load tidyverse\nlibrary(tidyverse) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.3.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'dplyr' was built under R version 4.3.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'stringr' was built under R version 4.3.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'lubridate' was built under R version 4.3.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\n# install.packages(\"here\")\nlibrary(here)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nhere() starts at /Users/chirst/Desktop/Git/corahirst-MADA-portfolio\n```\n:::\n\n```{.r .cell-code}\n# install.packages(\"gtsummary\")\nlibrary(gtsummary)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#Uighur\n```\n:::\n\n```{.r .cell-code}\n# install.packages(\"flextable\")\nlibrary(flextable)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'flextable' was built under R version 4.3.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'flextable'\n\nThe following objects are masked from 'package:gtsummary':\n\n    as_flextable, continuous_summary\n\nThe following object is masked from 'package:purrr':\n\n    compose\n```\n:::\n:::\n\n\n# Loading and checking the data\n\nBelow, we familiarize ourselves with the most recent dataset from the package `gapminder`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# pull information on the gapminder package\nhelp(gapminder) #open help file for gapminder dataset\n\n# structure of the gapminder dataset?\nstr(gapminder) # what is the class of the gapminder dataset? how many variables? class of each variable?\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t10545 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  115.4 148.2 208 NA 59.9 ...\n $ life_expectancy : num  62.9 47.5 36 63 65.4 ...\n $ fertility       : num  6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ...\n $ population      : num  1636054 11124892 5270844 54681 20619075 ...\n $ gdp             : num  NA 1.38e+10 NA NA 1.08e+11 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 4 1 1 2 2 3 2 5 4 3 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 19 11 10 2 15 21 2 1 22 21 ...\n```\n:::\n\n```{.r .cell-code}\n# summarize the gapminder data\nsummary(gapminder) #gives summary statistics for each numeric variable and count information for each categorical variable\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                country           year      infant_mortality life_expectancy\n Albania            :   57   Min.   :1960   Min.   :  1.50   Min.   :13.20  \n Algeria            :   57   1st Qu.:1974   1st Qu.: 16.00   1st Qu.:57.50  \n Angola             :   57   Median :1988   Median : 41.50   Median :67.54  \n Antigua and Barbuda:   57   Mean   :1988   Mean   : 55.31   Mean   :64.81  \n Argentina          :   57   3rd Qu.:2002   3rd Qu.: 85.10   3rd Qu.:73.00  \n Armenia            :   57   Max.   :2016   Max.   :276.90   Max.   :83.90  \n (Other)            :10203                  NA's   :1453                    \n   fertility       population             gdp               continent   \n Min.   :0.840   Min.   :3.124e+04   Min.   :4.040e+07   Africa  :2907  \n 1st Qu.:2.200   1st Qu.:1.333e+06   1st Qu.:1.846e+09   Americas:2052  \n Median :3.750   Median :5.009e+06   Median :7.794e+09   Asia    :2679  \n Mean   :4.084   Mean   :2.701e+07   Mean   :1.480e+11   Europe  :2223  \n 3rd Qu.:6.000   3rd Qu.:1.523e+07   3rd Qu.:5.540e+10   Oceania : 684  \n Max.   :9.220   Max.   :1.376e+09   Max.   :1.174e+13                  \n NA's   :187     NA's   :185         NA's   :2972                       \n             region    \n Western Asia   :1026  \n Eastern Africa : 912  \n Western Africa : 912  \n Caribbean      : 741  \n South America  : 684  \n Southern Europe: 684  \n (Other)        :5586  \n```\n:::\n\n```{.r .cell-code}\n# although the str() function gives the dataset class, we can check with the function class()\nclass(gapminder) #gives the class of the r object gapminder\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"data.frame\"\n```\n:::\n:::\n\nThe `gapminder` dataset is an object of class \"data.frame\". Each row of the dataframe contains health and income outcomes for some year for some country. The dataframe contains 9 columns, for `country` name, `region`, and `continent`; the `year` of the observation; and 5 different demographic, health, and income outcomes for each observation. These outcomes consist of `infant_mortality`, `life_expectancy`, `fertility`, `population`, and `gdp`.\n\nThere are 10545 observations in total, gathered from 184 countries between the years of 1960 and 2016. \n\n# Processing the data\n\nHere, we are going to select and process data on african countries from the `gapminder` dataset.m \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# subset rows from dataset containing factor level 'Africa' from column \"continent\"\nafricadata = gapminder %>% filter(continent == \"Africa\") #dplyr's filter() function accomplishes this\n\n# create life expectancy subsets of africadata containing 1) infant mortality and life expectancy and 2) population and life expectancy \nafrica.IMvsLE = africadata %>% select(\"infant_mortality\", \"life_expectancy\") #dplyrs select() function subsets columns\nafrica.PvsLE = africadata %>% select(\"population\", \"life_expectancy\") \n\n# structure of the life expectancy subsets\nstr(africa.IMvsLE) #2907 observations, 2 columns (variables)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t2907 obs. of  2 variables:\n $ infant_mortality: num  148 208 187 116 161 ...\n $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...\n```\n:::\n\n```{.r .cell-code}\nstr(africa.PvsLE) #2907 observations, 2 columns (variables)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t2907 obs. of  2 variables:\n $ population     : num  11124892 5270844 2431620 524029 4829291 ...\n $ life_expectancy: num  47.5 36 38.3 50.3 35.2 ...\n```\n:::\n\n```{.r .cell-code}\n# summary of variables in life expectancy subsets\nsummary(africa.IMvsLE) #summary stats of both columns containing numerical values\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n infant_mortality life_expectancy\n Min.   : 11.40   Min.   :13.20  \n 1st Qu.: 62.20   1st Qu.:48.23  \n Median : 93.40   Median :53.98  \n Mean   : 95.12   Mean   :54.38  \n 3rd Qu.:124.70   3rd Qu.:60.10  \n Max.   :237.40   Max.   :77.60  \n NA's   :226                     \n```\n:::\n\n```{.r .cell-code}\nsummary(africa.PvsLE) #summary stats of both columns contain numerical values\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   population        life_expectancy\n Min.   :    41538   Min.   :13.20  \n 1st Qu.:  1605232   1st Qu.:48.23  \n Median :  5570982   Median :53.98  \n Mean   : 12235961   Mean   :54.38  \n 3rd Qu.: 13888152   3rd Qu.:60.10  \n Max.   :182201962   Max.   :77.60  \n NA's   :51                         \n```\n:::\n:::\n\nThe code chunk above isolates the 2907 observations from african countries only within the `gapminder` dataset and stores this subset in the \"data.frame\" object, `africandata`. Two subsets of the `africandata` data frame are generated. The first, `africa.IMvsLE`, contains two columns showing the values of variables `infant_mortality` and `life_expectancy` for each observation. The second, `africa.PvsLE`, contains two columns showing the values of variables `population` and `life_expectancy` for each observation. \n\n# Plotting \n\nThe following code chunk generates two plots, visualizing the association of either `infant_mortality` or `population` with `life_expectancy` across Africa between 1960-2016.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#life_expectancy vs infant_mortality \n\nplot1 = ggplot() + geom_point(data = africa.IMvsLE, aes(x = infant_mortality, y = life_expectancy)) + \n  labs(x = \"infant mortality\", y = \"life expectancy\", title = \"correlation between life expectancy and infant mortality in Africa, 1960 - 2016\")\n\nplot2 = ggplot() + geom_point(data = africa.PvsLE, aes(x = population, y = life_expectancy)) + \n  scale_x_continuous(trans = \"log\") +\n  labs(x = \"population\", y = \"life expectancy\", title = \"correlation between life expectancy and population size, 1960-2016\")\n\nfigure_file = here(\"coding-exercise\",\"results\", \"figures\",\"life_exp_inf_mort_all.png\")\nggsave(filename = figure_file, plot=plot1) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 226 rows containing missing values (`geom_point()`).\n```\n:::\n\n```{.r .cell-code}\nfigure_file = here(\"coding-exercise\",\"results\", \"figures\",\"life_exp_pop_all.png\")\nggsave(filename = figure_file, plot=plot2) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 51 rows containing missing values (`geom_point()`).\n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![life expectancy by infant mortality, Africa, 1960-2016.](results/figures/life_exp_inf_mort_all.png){#fig-inf-mort-all width=1050}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![life expectancy by population size, Africa, 1960-2016.](results/figures/life_exp_pop_all.png){#fig-pop-all width=1050}\n:::\n:::\n\n\nObviously, there appear to be clusters of data associated with the variables `infant_mortality` and  `population`. These clusters may be the result of fixed effects from another associated variable, such as `year`. \n\nThe code chunk below regenerates these figures, with points colored by the year during which the observations were reported. Notice that I am now using the `africadata` subset to generate these figures, as this dataset also contains the `year` variable. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n## life_expectancy vs infant_mortality stratified by year\nplot3 = ggplot() + geom_point(data = africadata, aes(x = infant_mortality, y = life_expectancy, col = as.factor(year))) + \n  labs(x = \"infant mortality\", y = \"life expectancy\", title = \"correlation between life expectancy and infant mortality in Africa, 1960 - 2016\")\n\nplot4 = ggplot() + geom_point(data = africadata, aes(x = population, y = life_expectancy, col = as.factor(year))) + \n  scale_x_continuous(trans = \"log\") +\n  labs(x = \"population\", y = \"life expectancy\", title = \"correlation between life expectancy and population size, 1960-2016\")\n\nfigure_file = here(\"coding-exercise\",\"results\", \"figures\",\"life_exp_inf_mort_byyears.png\")\nggsave(filename = figure_file, plot=plot3) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 226 rows containing missing values (`geom_point()`).\n```\n:::\n\n```{.r .cell-code}\nfigure_file = here(\"coding-exercise\",\"results\", \"figures\",\"life_exp_pop_byyears.png\")\nggsave(filename = figure_file, plot=plot4) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 51 rows containing missing values (`geom_point()`).\n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![life expectancy by infant mortality, Africa, by year.](results/figures/life_exp_inf_mort_byyears.png){#fig-inf-mort-byyears width=1050}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![life expectancy by population size, Africa, by year.](results/figures/life_exp_pop_byyears.png){#fig-pop-byyears width=1050}\n:::\n:::\n\n\nHere, we see that \"lines\" in our data demonstrate how population size and infant mortality each correlate with year. However, this is visually difficult to disentangle. What we can see, particularly from our second plot, is that life expectancy appears somewhat constant across a range of population sizes within the same year. \n\nLet's recreate these plots, but only choose observations from a single year. \n\n## More processing\n\nThe `infant_mortality` variable within `africandata` contains many NAs. The code below determines which years contain missing (NA) data for infant mortality. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n## determine which years contain missing infant mortality data\nmissing_IM_years = levels(factor(africadata[is.na(africadata$infant_mortality), \"year\"])) # which levels of factor \"year\" contain missing data for vairable \"infant mortality\"?\n\nprint(paste(\"Infant mortality data is missing from the years\", paste(missing_IM_years, collapse = \" \"))) #print these years\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Infant mortality data is missing from the years 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 1980 1981 2016\"\n```\n:::\n:::\n\n\nInfant mortality data is missing from observations between 1960-1981, and again from 2016. Between 1981 and 2016, then, every observation from each year contains infant mortality data. So, we will plot `life_expectancy` against `infant_mortality` from observations taken during a year within that time frame, say, the year 2000.\n\n## More plotting\n\nThe variable `population` is not missing data from the year 2000, so we can also plot `life expectancy` against `population` for observations taken in 2000, as well. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n## extract observations from the year 2000 only and save in a new dataframe\nafricadata_2000 = africadata %>% filter(year == 2000)\n\n## check \nstr(africadata_2000) #all variables from africadata included\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t51 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 2 3 18 22 26 27 29 31 32 33 ...\n $ year            : int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...\n $ infant_mortality: num  33.9 128.3 89.3 52.4 96.2 ...\n $ life_expectancy : num  73.3 52.3 57.2 47.6 52.6 46.7 54.3 68.4 45.3 51.5 ...\n $ fertility       : num  2.51 6.84 5.98 3.41 6.59 7.06 5.62 3.7 5.45 7.35 ...\n $ population      : num  31183658 15058638 6949366 1736579 11607944 ...\n $ gdp             : num  5.48e+10 9.13e+09 2.25e+09 5.63e+09 2.61e+09 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 11 10 20 17 20 5 10 20 10 10 ...\n```\n:::\n\n```{.r .cell-code}\nsummary(africadata_2000) #and each variable is of the same class as corresponding africadata variables\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         country        year      infant_mortality life_expectancy\n Algeria     : 1   Min.   :2000   Min.   : 12.30   Min.   :37.60  \n Angola      : 1   1st Qu.:2000   1st Qu.: 60.80   1st Qu.:51.75  \n Benin       : 1   Median :2000   Median : 80.30   Median :54.30  \n Botswana    : 1   Mean   :2000   Mean   : 78.93   Mean   :56.36  \n Burkina Faso: 1   3rd Qu.:2000   3rd Qu.:103.30   3rd Qu.:60.00  \n Burundi     : 1   Max.   :2000   Max.   :143.30   Max.   :75.00  \n (Other)     :45                                                  \n   fertility       population             gdp               continent \n Min.   :1.990   Min.   :    81154   Min.   :2.019e+08   Africa  :51  \n 1st Qu.:4.150   1st Qu.:  2304687   1st Qu.:1.274e+09   Americas: 0  \n Median :5.550   Median :  8799165   Median :3.238e+09   Asia    : 0  \n Mean   :5.156   Mean   : 15659800   Mean   :1.155e+10   Europe  : 0  \n 3rd Qu.:5.960   3rd Qu.: 17391242   3rd Qu.:8.654e+09   Oceania : 0  \n Max.   :7.730   Max.   :122876723   Max.   :1.329e+11                \n                                                                      \n                       region  \n Eastern Africa           :16  \n Western Africa           :16  \n Middle Africa            : 8  \n Northern Africa          : 6  \n Southern Africa          : 5  \n Australia and New Zealand: 0  \n (Other)                  : 0  \n```\n:::\n\n```{.r .cell-code}\n## plot\n## life_expectancy vs infant_mortality in the year 2000\nplot5 = ggplot() + geom_point(data = africadata_2000, aes(x = infant_mortality, y = life_expectancy)) + \n  geom_smooth(data = africadata_2000, aes(x = infant_mortality, y = life_expectancy), method = 'lm') +\n  labs(x = \"infant mortality\", y = \"life expectancy\", title = \"correlation between life expectancy and infant mortality in Africa, year 2000\")\n\nplot6 = ggplot() + geom_point(data = africadata_2000, aes(x = population, y = life_expectancy)) + \n  scale_x_continuous(trans = \"log\") +\n  geom_smooth(data = africadata_2000, aes(x = population, y = life_expectancy), method = 'lm') +\n  labs(x = \"population\", y = \"life expectancy\", title = \"correlation between life expectancy and population size, year 2000\")\n\nfigure_file = here(\"coding-exercise\",\"results\", \"figures\",\"life_exp_inf_mort_2000.png\")\nggsave(filename = figure_file, plot=plot5) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n```{.r .cell-code}\nfigure_file = here(\"coding-exercise\",\"results\", \"figures\",\"life_exp_pop_2000.png\")\nggsave(filename = figure_file, plot=plot6) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![life expectancy by infant mortality, Africa 2000.](results/figures/life_exp_inf_mort_2000.png){#fig-inf-mort-2000 width=1050}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![life expectancy by population size, Africa 2000.](results/figures/life_exp_pop_2000.png){#fig-pop-2000 width=1050}\n:::\n:::\n\n\nAre these correlations (linear regressions) significant? \n\n\n## Simple model fits\n\nThe following code chunk utilizes the `lm()` function in R to determine the best-fit, simple linear regression model with `life_expectancy` in the year 2000 as the outcome variable and either `infant_mortality` or `population` as the predictor.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# linear regression, fixed effect, life expectancy ~ infant_mortality\nfit1 = lm(data = africadata_2000, life_expectancy ~ infant_mortality) #results saved in lm object `fit1`\n\n# linear regression, fixed effect, life expectancy ~ infant_mortality\nfit2 = lm(data = africadata_2000, life_expectancy ~ population) #results saved in lm object `fit2`\n\n# print summary of lm objects fit1 and fit2\nsummary(fit1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = life_expectancy ~ infant_mortality, data = africadata_2000)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-22.6651  -3.7087   0.9914   4.0408   8.6817 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(>|t|)    \n(Intercept)      71.29331    2.42611  29.386  < 2e-16 ***\ninfant_mortality -0.18916    0.02869  -6.594 2.83e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.221 on 49 degrees of freedom\nMultiple R-squared:  0.4701,\tAdjusted R-squared:  0.4593 \nF-statistic: 43.48 on 1 and 49 DF,  p-value: 2.826e-08\n```\n:::\n\n```{.r .cell-code}\nsummary(fit2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = life_expectancy ~ population, data = africadata_2000)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-18.429  -4.602  -2.568   3.800  18.802 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 5.593e+01  1.468e+00  38.097   <2e-16 ***\npopulation  2.756e-08  5.459e-08   0.505    0.616    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.524 on 49 degrees of freedom\nMultiple R-squared:  0.005176,\tAdjusted R-squared:  -0.01513 \nF-statistic: 0.2549 on 1 and 49 DF,  p-value: 0.6159\n```\n:::\n\n```{.r .cell-code}\ntable1 = fit1 %>% tbl_regression() #save summaries as tables using tbl_regression() function from flextable package\ntable2 = fit2 %>% tbl_regression() #save summaries as tables using tbl_regression() function from flextable package\n\n# save summary tables\nsummarytable_file = here(\"coding-exercise\",\"results\", \"tables-files\", \"lm_life_exp_inf_mort.rds\")\nsaveRDS(table1, file = summarytable_file)\n\nsummarytable_file = here(\"coding-exercise\",\"results\", \"tables-files\", \"lm_life_exp_pop.rds\")\nsaveRDS(table2, file = summarytable_file)\n\n# extract p-values from summaries to display on figures\np.infant_mortality = unname(summary(fit1)$coefficients[,\"Pr(>|t|)\"])[2]\np.population = unname(summary(fit2)$coefficients[,\"Pr(>|t|)\"])[2]\n```\n:::\n\n::: {#tbl-lm_life_exp_inf_mort-2000 .cell tbl-cap='Linear regression model of life expectancy by infant mortality.'}\n::: {.cell-output-display}\n|**Characteristic** |**Beta** |**95% CI**   |**p-value** |\n|:------------------|:--------|:------------|:-----------|\n|infant_mortality   |-0.19    |-0.25, -0.13 |<0.001      |\n:::\n:::\n\n::: {#tbl-lm_life_exp_pop-2000 .cell tbl-cap='Linear regression model of life expectancy by population size.'}\n::: {.cell-output-display}\n|**Characteristic** |**Beta** |**95% CI** |**p-value** |\n|:------------------|:--------|:----------|:-----------|\n|population         |0.00     |0.00, 0.00 |0.6         |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## replot with pvals \n## life_expectancy vs infant_mortality in the year 2000\nplot7 = ggplot() + geom_point(data = africadata_2000, aes(x = infant_mortality, y = life_expectancy)) + \n  geom_smooth(data = africadata_2000, aes(x = infant_mortality, y = life_expectancy), method = 'lm') +\n  annotate(geom = \"text\", x = 125, y = 70, label = paste(\"p-value =\", signif(p.infant_mortality, digits = 3)), color = \"forestgreen\") +\n  labs(x = \"infant mortality\", y = \"life expectancy\", title = \"correlation between life expectancy and infant mortality in Africa, year 2000\")\n\nplot8 = ggplot() + geom_point(data = africadata_2000, aes(x = population, y = life_expectancy)) + \n  scale_x_continuous(trans = \"log\") +\n  geom_smooth(data = africadata_2000, aes(x = population, y = life_expectancy), method = 'lm') +\n  annotate(geom = \"text\", x = 163000, y = 40, label = paste(\"p-value =\", signif(p.population, digits = 3)), color = \"maroon\") +\n  labs(x = \"population\", y = \"life expectancy\", title = \"correlation between life expectancy and population size, year 2000\")\n\nfigure_file = here(\"coding-exercise\",\"results\", \"figures\",\"life_exp_inf_mort_reg.png\")\nggsave(filename = figure_file, plot=plot7) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n```{.r .cell-code}\nfigure_file = here(\"coding-exercise\",\"results\", \"figures\",\"life_exp_pop_reg.png\")\nggsave(filename = figure_file, plot=plot8) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![linear regression of life expectancy by infant mortality, Africa 2000.](results/figures/life_exp_inf_mort_reg.png){#fig-reg-inf-mort-2000 width=1050}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![linear regression of life expectancy by population size, Africa 2000.](results/figures/life_exp_pop_reg.png){#fig-reg-pop-2000 width=1050}\n:::\n:::\n\n\nLife expectancy appears to decrease with infant mortality, while decreasing only slightly with population size (@fig-reg-inf-mort-2000, @fig-reg-pop-2000). Using a definition of $pvalue < 0.05$ as significance, it is evident that population size is a poor predictor of life expectancy ($p = 0.6 > 0.05$). However, infant mortality is in fact a better, significant predictor of life expectancy ($p = 2 \\times 10^{-8}$) (@tbl-lm_life_exp_inf_mort-2000, @tbl-lm_life_exp_pop-2000). Thus, we fail to reject the null hypothesis that life expectancy is not correlated with population size, but do reject the null hypothesis that life expectancy is not correlated with infant mortality rates.\n\n### This section is contributed by Taylor Glass. \n# Exploring the dataset\nI chose to explore the 'movie' dataset in the dslabs package. I used the help() function to find the description of the dataset and an explanation of the 7 variables it includes. I used the str() function to determine there are 100,004 observations of 7 variables. There are 4 integer variables, 1 character variable, 1 numeric variable and one factor variable with 901 levels. I used the summary() function to examine the range of each numerical variable. The year the movie was released ranges from 1902 to 2016. There are 6 distinct genres along with an 'other' option. The mean rating for all 100,004 movies included in the dataset is 3.544.  \n\n::: {.cell}\n\n```{.r .cell-code}\nhelp(\"movielens\") ##learn about the dataset\nstr(movielens) ##determine dimensions of dataset\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t100004 obs. of  7 variables:\n $ movieId  : int  31 1029 1061 1129 1172 1263 1287 1293 1339 1343 ...\n $ title    : chr  \"Dangerous Minds\" \"Dumbo\" \"Sleepers\" \"Escape from New York\" ...\n $ year     : int  1995 1941 1996 1981 1989 1978 1959 1982 1992 1991 ...\n $ genres   : Factor w/ 901 levels \"(no genres listed)\",..: 762 510 899 120 762 836 81 762 844 899 ...\n $ userId   : int  1 1 1 1 1 1 1 1 1 1 ...\n $ rating   : num  2.5 3 3 2 4 2 2 2 3.5 2 ...\n $ timestamp: int  1260759144 1260759179 1260759182 1260759185 1260759205 1260759151 1260759187 1260759148 1260759125 1260759131 ...\n```\n:::\n\n```{.r .cell-code}\nsummary(movielens) ##explore ranges for numerical variables\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    movieId          title                year     \n Min.   :     1   Length:100004      Min.   :1902  \n 1st Qu.:  1028   Class :character   1st Qu.:1987  \n Median :  2406   Mode  :character   Median :1995  \n Mean   : 12549                      Mean   :1992  \n 3rd Qu.:  5418                      3rd Qu.:2001  \n Max.   :163949                      Max.   :2016  \n                                     NA's   :7     \n                  genres          userId        rating        timestamp        \n Drama               : 7757   Min.   :  1   Min.   :0.500   Min.   :7.897e+08  \n Comedy              : 6748   1st Qu.:182   1st Qu.:3.000   1st Qu.:9.658e+08  \n Comedy|Romance      : 3973   Median :367   Median :4.000   Median :1.110e+09  \n Drama|Romance       : 3462   Mean   :347   Mean   :3.544   Mean   :1.130e+09  \n Comedy|Drama        : 3272   3rd Qu.:520   3rd Qu.:4.000   3rd Qu.:1.296e+09  \n Comedy|Drama|Romance: 3204   Max.   :671   Max.   :5.000   Max.   :1.477e+09  \n (Other)             :71588                                                    \n```\n:::\n:::\n\n# Processing/cleaning data \nI decided to create a subset of this data with movie ratings from just the year that I was born, 2001. I used the filter function to create a new object called 'mymovies' with 3442 observations of 7 variables. I decided to explore the ratings among different genres of movies during 2001. I created a boxplot using genres as the categorical variable, which was very messy and not helpful. I decided to filter the datset further by only including movies in the drama and comedy genres, which limited the dataset to 319 observations of 7 variables. I selected the title, genres, and rating columns because they are the only variables useful for this analysis. When I created the second boxplot with the final dataset called 'mymovies3', it became easy to view the spread in ratings for drama and comedy movies released in 2001. The average rating for comedy movies is a 3, while the average rating for drama movies is a 4. \n\n::: {.cell}\n\n```{.r .cell-code}\nmymovies <- movielens %>% \n              filter(year == 2001) ##limit dataset to movies released in 2001\nstr(mymovies)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t3442 obs. of  7 variables:\n $ movieId  : int  4306 4308 4447 4718 4963 4995 4641 4975 4448 4886 ...\n $ title    : chr  \"Shrek\" \"Moulin Rouge\" \"Legally Blonde\" \"American Pie 2\" ...\n $ year     : int  2001 2001 2001 2001 2001 2001 2001 2001 2001 2001 ...\n $ genres   : Factor w/ 901 levels \"(no genres listed)\",..: 332 808 687 596 747 820 624 883 246 329 ...\n $ userId   : int  5 5 5 5 5 5 6 6 8 8 ...\n $ rating   : num  3.5 3.5 4.5 3.5 3 4.5 1.5 1.5 2.5 3.5 ...\n $ timestamp: int  1163374103 1163374354 1163375033 1163375131 1163373548 1163373616 1109258217 1109258226 1154400334 1154464808 ...\n```\n:::\n\n```{.r .cell-code}\nmymovies %>% ggplot(aes(x=genres,  y=rating)) + ##use genres as the categorical variable and rating as the numerical variable\n              geom_boxplot()   ##create exploratory boxplot \n```\n\n::: {.cell-output-display}\n![](coding-exercise_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\nmymovies2 <- mymovies %>% \n              filter(year == 2001 & genres %in% c(\"Drama\", \"Comedy\")) ##further filter dataset to include 2 genres\nstr(mymovies2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t319 obs. of  7 variables:\n $ movieId  : int  4718 4718 4225 4381 4388 4718 4723 4728 4816 4888 ...\n $ title    : chr  \"American Pie 2\" \"American Pie 2\" \"Dish, The\" \"Closet, The (Placard, Le)\" ...\n $ year     : int  2001 2001 2001 2001 2001 2001 2001 2001 2001 2001 ...\n $ genres   : Factor w/ 901 levels \"(no genres listed)\",..: 596 596 596 596 596 596 762 596 596 762 ...\n $ userId   : int  5 13 15 15 15 15 15 15 15 15 ...\n $ rating   : num  3.5 3.5 1 2 3 4 3.5 4 3 3 ...\n $ timestamp: int  1163375131 1331379530 997937762 997937346 1416119736 1044348492 1054449465 1044348492 1166586875 1054449355 ...\n```\n:::\n\n```{.r .cell-code}\nmymovies3 <- mymovies2 %>%\n              select(\"title\", \"genres\", \"rating\") ##select 3 columns of useful information \nstr(mymovies3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t319 obs. of  3 variables:\n $ title : chr  \"American Pie 2\" \"American Pie 2\" \"Dish, The\" \"Closet, The (Placard, Le)\" ...\n $ genres: Factor w/ 901 levels \"(no genres listed)\",..: 596 596 596 596 596 596 762 596 596 762 ...\n $ rating: num  3.5 3.5 1 2 3 4 3.5 4 3 3 ...\n```\n:::\n:::\n\n# Create a few exploratory figures\nI created the second boxplot with the final dataset called 'mymovies3', and it became easy to view the spread in ratings for drama and comedy movies released in 2001. I added a title for the boxplot and centered it to make it easier to read. The average rating for comedy movies is a 3, while the average rating for drama movies is a 4. I practiced saving this image to the folder previously created by Cora using the here() and ggsave() functions. To create another visualization of this data, I used the mean ratings from each category in a bar graph. The means of the ratings for each genre are displayed with better precision in this visualization. The mean rating for comedy movies is a little less than 3 at about 2.9 while the average rating for drama movies seems lower at about 3.5. This discrepancy could be explained by the 2 outliers shown in the drama category on the boxplot because these observations are skewing the mean. I saved this graph to the same folder with the boxplot using the here() and ggsave() functions. I also created a table of my final dataset to include the movie titles of both genres with each of their ratings from reviewers. It is a little busy since there are multiple reviews for the some of the same movies, so I organized it by title to allow for quick review of all the ratings provided for each movie. The first table has been commented out, so it will not print on this rendered website. It is included to show the process of creating the better table.\n\n::: {.cell}\n\n```{.r .cell-code}\nboxplot <- mymovies3 %>% ggplot(aes(x=genres,  y=rating)) +   ##visualize the ratings for each genre of movie \n                geom_boxplot() +    ##create clean boxplot to compare ratings across genres in 2001\n                labs(title = \"Ratings for Drama and Comedy Movies in 2001 \") +  ##add a title to the graph\n                theme(plot.title = element_text(hjust = 0.5)) ##center the title \n\nfigure_file <- here(\"coding-exercise\", \"results\", \"figures\", \"movies_boxplot.png\") ##inform R on where to save the image\nggsave(filename = figure_file, plot = boxplot) ##save the image in the predefined location \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n```{.r .cell-code}\nbargraph <- mymovies3 %>% ggplot(aes(x=genres, y=rating)) + ##visualize the ratings for each genre of movie\n                geom_bar(stat = \"summary\", fun = \"mean\") +  ##use the mean of each rating for the bars\n                labs(title = \"Ratings for Drama and Comedy Movies in 2001\") + ##create a title for the graph\n                theme(plot.title = element_text(hjust = 0.5)) ##center the title\n\nfigure_file2 <- here(\"coding-exercise\", \"results\", \"figures\", \"movies_bargraph.png\") ##inform R on where to save the image\nggsave(filename = figure_file2, plot = bargraph) ##save the image in the predefined location\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n```{.r .cell-code}\n## knitr::kable(mymovies3) ##create a table to display movie titles with their ratings\n## comment out the first table so it will not show on the rendered website\nbetter_table <- arrange(mymovies3, title) ##organize the table by title \nknitr::kable(better_table) ##view new table with all ratings for each movie grouped together by title\n```\n\n::: {.cell-output-display}\n|title                                                                       |genres | rating|\n|:---------------------------------------------------------------------------|:------|------:|\n|61*                                                                         |Drama  |    3.0|\n|61*                                                                         |Drama  |    4.0|\n|Ali                                                                         |Drama  |    3.5|\n|Ali                                                                         |Drama  |    3.0|\n|Ali                                                                         |Drama  |    3.0|\n|Ali                                                                         |Drama  |    4.0|\n|Ali                                                                         |Drama  |    2.5|\n|Ali                                                                         |Drama  |    2.5|\n|All Over the Guy                                                            |Comedy |    4.0|\n|All Over the Guy                                                            |Comedy |    4.0|\n|All Over the Guy                                                            |Comedy |    5.0|\n|American Pie 2                                                              |Comedy |    3.5|\n|American Pie 2                                                              |Comedy |    3.5|\n|American Pie 2                                                              |Comedy |    4.0|\n|American Pie 2                                                              |Comedy |    4.5|\n|American Pie 2                                                              |Comedy |    4.0|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    4.5|\n|American Pie 2                                                              |Comedy |    4.0|\n|American Pie 2                                                              |Comedy |    4.0|\n|American Pie 2                                                              |Comedy |    1.5|\n|American Pie 2                                                              |Comedy |    4.0|\n|American Pie 2                                                              |Comedy |    2.5|\n|American Pie 2                                                              |Comedy |    2.5|\n|American Pie 2                                                              |Comedy |    2.5|\n|American Pie 2                                                              |Comedy |    2.0|\n|American Pie 2                                                              |Comedy |    2.5|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    2.0|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    3.5|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    0.5|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    1.0|\n|American Pie 2                                                              |Comedy |    1.5|\n|American Pie 2                                                              |Comedy |    3.5|\n|American Pie 2                                                              |Comedy |    2.0|\n|American Pie 2                                                              |Comedy |    1.0|\n|American Pie 2                                                              |Comedy |    3.5|\n|American Pie 2                                                              |Comedy |    4.0|\n|American Pie 2                                                              |Comedy |    2.5|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    2.5|\n|American Pie 2                                                              |Comedy |    3.5|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    0.5|\n|American Pie 2                                                              |Comedy |    3.0|\n|American Pie 2                                                              |Comedy |    4.0|\n|American Rhapsody, An                                                       |Drama  |    2.0|\n|American Rhapsody, An                                                       |Drama  |    3.5|\n|Animal, The                                                                 |Comedy |    4.0|\n|Animal, The                                                                 |Comedy |    2.0|\n|Animal, The                                                                 |Comedy |    3.0|\n|Animal, The                                                                 |Comedy |    2.5|\n|Animal, The                                                                 |Comedy |    2.0|\n|Animal, The                                                                 |Comedy |    1.5|\n|Animal, The                                                                 |Comedy |    3.0|\n|Animal, The                                                                 |Comedy |    2.0|\n|Anniversary Party, The                                                      |Drama  |    4.0|\n|Anniversary Party, The                                                      |Drama  |    2.0|\n|Anniversary Party, The                                                      |Drama  |    3.0|\n|Anniversary Party, The                                                      |Drama  |    2.0|\n|Anniversary Party, The                                                      |Drama  |    4.5|\n|Anniversary Party, The                                                      |Drama  |    4.0|\n|Bad Guy (Nabbeun namja)                                                     |Drama  |    2.5|\n|Believer, The                                                               |Drama  |    4.0|\n|Believer, The                                                               |Drama  |    4.5|\n|Believer, The                                                               |Drama  |    4.5|\n|Believer, The                                                               |Drama  |    4.0|\n|Blow Dry (a.k.a. Never Better)                                              |Comedy |    4.5|\n|Bubble Boy                                                                  |Comedy |    2.5|\n|Bubble Boy                                                                  |Comedy |    4.0|\n|Bubble Boy                                                                  |Comedy |    1.5|\n|Chelsea Walls                                                               |Drama  |    2.0|\n|Chelsea Walls                                                               |Drama  |    4.0|\n|Closet, The (Placard, Le)                                                   |Comedy |    2.0|\n|Closet, The (Placard, Le)                                                   |Comedy |    4.0|\n|Curse of the Jade Scorpion, The                                             |Comedy |    4.0|\n|Curse of the Jade Scorpion, The                                             |Comedy |    4.0|\n|Deep End, The                                                               |Drama  |    3.5|\n|Deep End, The                                                               |Drama  |    4.0|\n|Deep End, The                                                               |Drama  |    4.0|\n|Deep End, The                                                               |Drama  |    4.0|\n|Deep End, The                                                               |Drama  |    4.0|\n|Diamond Men                                                                 |Drama  |    3.5|\n|Dish, The                                                                   |Comedy |    1.0|\n|Dish, The                                                                   |Comedy |    4.0|\n|Dish, The                                                                   |Comedy |    4.0|\n|Dish, The                                                                   |Comedy |    4.0|\n|Dish, The                                                                   |Comedy |    4.5|\n|Dish, The                                                                   |Comedy |    4.5|\n|Dish, The                                                                   |Comedy |    4.0|\n|Dish, The                                                                   |Comedy |    2.0|\n|Dish, The                                                                   |Comedy |    3.0|\n|Dish, The                                                                   |Comedy |    4.0|\n|Dish, The                                                                   |Comedy |    4.0|\n|Dr. Dolittle 2                                                              |Comedy |    0.5|\n|Dr. Dolittle 2                                                              |Comedy |    0.5|\n|Dr. Dolittle 2                                                              |Comedy |    3.0|\n|Dr. Dolittle 2                                                              |Comedy |    4.0|\n|Emperor's New Clothes, The                                                  |Comedy |    4.5|\n|Freddy Got Fingered                                                         |Comedy |    0.5|\n|Freddy Got Fingered                                                         |Comedy |    1.5|\n|Freddy Got Fingered                                                         |Comedy |    3.0|\n|Freddy Got Fingered                                                         |Comedy |    2.0|\n|Freddy Got Fingered                                                         |Comedy |    1.0|\n|Freddy Got Fingered                                                         |Comedy |    3.5|\n|Freddy Got Fingered                                                         |Comedy |    0.5|\n|Friends and Family                                                          |Comedy |    5.0|\n|Grey Zone, The                                                              |Drama  |    3.5|\n|Grey Zone, The                                                              |Drama  |    4.0|\n|Hardball                                                                    |Drama  |    4.0|\n|Hearts in Atlantis                                                          |Drama  |    4.0|\n|Hearts in Atlantis                                                          |Drama  |    3.0|\n|How High                                                                    |Comedy |    3.0|\n|How High                                                                    |Comedy |    2.0|\n|How I Killed My Father (a.k.a. My Father and I) (Comment j'ai tué mon Père) |Drama  |    1.0|\n|Hush!                                                                       |Drama  |    4.0|\n|I Am Sam                                                                    |Drama  |    1.0|\n|I Am Sam                                                                    |Drama  |    4.5|\n|I Am Sam                                                                    |Drama  |    4.0|\n|I Am Sam                                                                    |Drama  |    3.5|\n|I Am Sam                                                                    |Drama  |    3.5|\n|I Am Sam                                                                    |Drama  |    3.0|\n|I Am Sam                                                                    |Drama  |    4.5|\n|I Am Sam                                                                    |Drama  |    3.5|\n|I Am Sam                                                                    |Drama  |    4.5|\n|I Am Sam                                                                    |Drama  |    2.5|\n|I Am Sam                                                                    |Drama  |    2.5|\n|I Am Sam                                                                    |Drama  |    3.5|\n|I Am Sam                                                                    |Drama  |    3.0|\n|I Am Sam                                                                    |Drama  |    4.5|\n|In the Bedroom                                                              |Drama  |    5.0|\n|In the Bedroom                                                              |Drama  |    3.0|\n|In the Bedroom                                                              |Drama  |    4.0|\n|In the Bedroom                                                              |Drama  |    4.0|\n|In the Bedroom                                                              |Drama  |    3.0|\n|In the Bedroom                                                              |Drama  |    5.0|\n|In the Bedroom                                                              |Drama  |    4.0|\n|In the Bedroom                                                              |Drama  |    5.0|\n|In the Bedroom                                                              |Drama  |    4.0|\n|In the Bedroom                                                              |Drama  |    4.0|\n|Invincible                                                                  |Drama  |    1.5|\n|Iris                                                                        |Drama  |    3.0|\n|Iris                                                                        |Drama  |    3.0|\n|Josie and the Pussycats                                                     |Comedy |    1.0|\n|Josie and the Pussycats                                                     |Comedy |    4.0|\n|Kandahar (Safar e Ghandehar)                                                |Drama  |    3.0|\n|Kandahar (Safar e Ghandehar)                                                |Drama  |    4.0|\n|Kandahar (Safar e Ghandehar)                                                |Drama  |    3.0|\n|L.I.E.                                                                      |Drama  |    3.0|\n|L.I.E.                                                                      |Drama  |    4.0|\n|L.I.E.                                                                      |Drama  |    5.0|\n|L.I.E.                                                                      |Drama  |    2.0|\n|Lammbock                                                                    |Comedy |    3.5|\n|Life as a House                                                             |Drama  |    4.5|\n|Life as a House                                                             |Drama  |    2.0|\n|Life as a House                                                             |Drama  |    5.0|\n|Life as a House                                                             |Drama  |    4.0|\n|Life as a House                                                             |Drama  |    4.0|\n|Life as a House                                                             |Drama  |    3.5|\n|Life as a House                                                             |Drama  |    3.5|\n|Life as a House                                                             |Drama  |    4.0|\n|Lost and Delirious                                                          |Drama  |    4.0|\n|Lost and Delirious                                                          |Drama  |    3.0|\n|Made                                                                        |Comedy |    2.0|\n|Made                                                                        |Comedy |    2.0|\n|Made                                                                        |Comedy |    3.0|\n|Made                                                                        |Comedy |    2.0|\n|Made                                                                        |Comedy |    4.0|\n|Manic                                                                       |Drama  |    2.0|\n|Not Another Teen Movie                                                      |Comedy |    2.0|\n|Not Another Teen Movie                                                      |Comedy |    3.0|\n|Not Another Teen Movie                                                      |Comedy |    3.0|\n|Not Another Teen Movie                                                      |Comedy |    5.0|\n|Not Another Teen Movie                                                      |Comedy |    3.5|\n|Not Another Teen Movie                                                      |Comedy |    3.0|\n|Not Another Teen Movie                                                      |Comedy |    2.5|\n|Not Another Teen Movie                                                      |Comedy |    4.0|\n|Not Another Teen Movie                                                      |Comedy |    3.0|\n|Not Another Teen Movie                                                      |Comedy |    2.5|\n|Not Another Teen Movie                                                      |Comedy |    1.0|\n|Not Another Teen Movie                                                      |Comedy |    2.5|\n|Not Another Teen Movie                                                      |Comedy |    3.0|\n|Nowhere in Africa (Nirgendwo in Afrika)                                     |Drama  |    4.5|\n|Nowhere in Africa (Nirgendwo in Afrika)                                     |Drama  |    4.5|\n|Nowhere in Africa (Nirgendwo in Afrika)                                     |Drama  |    1.0|\n|Nowhere in Africa (Nirgendwo in Afrika)                                     |Drama  |    4.0|\n|Nowhere in Africa (Nirgendwo in Afrika)                                     |Drama  |    4.5|\n|O                                                                           |Drama  |    3.0|\n|O                                                                           |Drama  |    1.0|\n|O                                                                           |Drama  |    0.5|\n|On the Edge                                                                 |Drama  |    5.0|\n|One Night at McCool's                                                       |Comedy |    4.0|\n|One Night at McCool's                                                       |Comedy |    3.0|\n|One Night at McCool's                                                       |Comedy |    3.0|\n|Piano Teacher, The (La pianiste)                                            |Drama  |    4.5|\n|Piano Teacher, The (La pianiste)                                            |Drama  |    1.0|\n|Piano Teacher, The (La pianiste)                                            |Drama  |    4.5|\n|Piano Teacher, The (La pianiste)                                            |Drama  |    4.0|\n|Piano Teacher, The (La pianiste)                                            |Drama  |    3.0|\n|Piano Teacher, The (La pianiste)                                            |Drama  |    5.0|\n|Piano Teacher, The (La pianiste)                                            |Drama  |    5.0|\n|Piñero                                                                      |Drama  |    1.5|\n|Piñero                                                                      |Drama  |    4.0|\n|Rat Race                                                                    |Comedy |    4.0|\n|Rat Race                                                                    |Comedy |    3.0|\n|Rat Race                                                                    |Comedy |    3.0|\n|Rat Race                                                                    |Comedy |    1.5|\n|Rat Race                                                                    |Comedy |    5.0|\n|Rat Race                                                                    |Comedy |    1.5|\n|Rat Race                                                                    |Comedy |    3.0|\n|Rat Race                                                                    |Comedy |    2.5|\n|Scary Movie 2                                                               |Comedy |    3.0|\n|Scary Movie 2                                                               |Comedy |    2.0|\n|Scary Movie 2                                                               |Comedy |    2.0|\n|Scary Movie 2                                                               |Comedy |    5.0|\n|Scary Movie 2                                                               |Comedy |    4.0|\n|Scary Movie 2                                                               |Comedy |    1.0|\n|Scary Movie 2                                                               |Comedy |    1.5|\n|Scary Movie 2                                                               |Comedy |    2.0|\n|Scary Movie 2                                                               |Comedy |    2.0|\n|Scary Movie 2                                                               |Comedy |    3.0|\n|Scary Movie 2                                                               |Comedy |    2.0|\n|Scary Movie 2                                                               |Comedy |    3.5|\n|Scary Movie 2                                                               |Comedy |    2.0|\n|Scary Movie 2                                                               |Comedy |    1.0|\n|Scary Movie 2                                                               |Comedy |    2.5|\n|Scary Movie 2                                                               |Comedy |    2.5|\n|Scary Movie 2                                                               |Comedy |    0.5|\n|Scary Movie 2                                                               |Comedy |    2.0|\n|Scary Movie 2                                                               |Comedy |    2.0|\n|See Spot Run                                                                |Comedy |    1.0|\n|Shipping News, The                                                          |Drama  |    1.0|\n|Shipping News, The                                                          |Drama  |    3.0|\n|Shipping News, The                                                          |Drama  |    3.0|\n|Shipping News, The                                                          |Drama  |    2.0|\n|Son's Room, The (Stanza del figlio, La)                                     |Drama  |    3.0|\n|Son's Room, The (Stanza del figlio, La)                                     |Drama  |    4.0|\n|Sugar & Spice                                                               |Comedy |    3.5|\n|Sugar & Spice                                                               |Comedy |    3.0|\n|Taking Sides                                                                |Drama  |    2.0|\n|Tape                                                                        |Drama  |    3.0|\n|Tape                                                                        |Drama  |    4.0|\n|Tape                                                                        |Drama  |    3.0|\n|Tape                                                                        |Drama  |    4.5|\n|The Last Brickmaker in America                                              |Drama  |    5.0|\n|Things Behind the Sun                                                       |Drama  |    4.0|\n|Thirteen Conversations About One Thing (a.k.a. 13 Conversations)            |Drama  |    2.5|\n|Thirteen Conversations About One Thing (a.k.a. 13 Conversations)            |Drama  |    4.0|\n|Thirteen Conversations About One Thing (a.k.a. 13 Conversations)            |Drama  |    4.5|\n|Thirteen Conversations About One Thing (a.k.a. 13 Conversations)            |Drama  |    5.0|\n|Thirteen Conversations About One Thing (a.k.a. 13 Conversations)            |Drama  |    4.5|\n|Thirteen Conversations About One Thing (a.k.a. 13 Conversations)            |Drama  |    3.5|\n|To the Left of the Father (Lavoura Arcaica)                                 |Drama  |    5.0|\n|Tomcats                                                                     |Comedy |    2.5|\n|Town & Country                                                              |Comedy |    2.0|\n|Wash, The                                                                   |Comedy |    2.5|\n|Waterboys                                                                   |Comedy |    4.0|\n|Wet Hot American Summer                                                     |Comedy |    4.0|\n|Wet Hot American Summer                                                     |Comedy |    4.0|\n|Wet Hot American Summer                                                     |Comedy |    2.5|\n|Wet Hot American Summer                                                     |Comedy |    2.0|\n|Wet Hot American Summer                                                     |Comedy |    3.0|\n|Wet Hot American Summer                                                     |Comedy |    1.0|\n|What Time Is It There? (Ni neibian jidian)                                  |Drama  |    5.0|\n|What Time Is It There? (Ni neibian jidian)                                  |Drama  |    4.0|\n|White Sound, The (Das weiße Rauschen)                                       |Drama  |    5.0|\n|Wit                                                                         |Drama  |    3.0|\n|Wit                                                                         |Drama  |    4.0|\n|Wit                                                                         |Drama  |    3.5|\n|Zoolander                                                                   |Comedy |    3.0|\n|Zoolander                                                                   |Comedy |    3.0|\n|Zoolander                                                                   |Comedy |    2.0|\n|Zoolander                                                                   |Comedy |    2.0|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    0.5|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    4.5|\n|Zoolander                                                                   |Comedy |    0.5|\n|Zoolander                                                                   |Comedy |    2.0|\n|Zoolander                                                                   |Comedy |    2.5|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    3.5|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    3.5|\n|Zoolander                                                                   |Comedy |    3.0|\n|Zoolander                                                                   |Comedy |    2.0|\n|Zoolander                                                                   |Comedy |    1.0|\n|Zoolander                                                                   |Comedy |    5.0|\n|Zoolander                                                                   |Comedy |    3.0|\n|Zoolander                                                                   |Comedy |    3.5|\n|Zoolander                                                                   |Comedy |    3.0|\n|Zoolander                                                                   |Comedy |    2.5|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    2.0|\n|Zoolander                                                                   |Comedy |    2.0|\n|Zoolander                                                                   |Comedy |    5.0|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    3.0|\n|Zoolander                                                                   |Comedy |    4.5|\n|Zoolander                                                                   |Comedy |    5.0|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    3.5|\n|Zoolander                                                                   |Comedy |    4.5|\n|Zoolander                                                                   |Comedy |    2.0|\n|Zoolander                                                                   |Comedy |    4.0|\n|Zoolander                                                                   |Comedy |    3.5|\n|Zoolander                                                                   |Comedy |    4.5|\n|Zoolander                                                                   |Comedy |    3.0|\n|Zoolander                                                                   |Comedy |    1.5|\n|Zoolander                                                                   |Comedy |    3.5|\n|Zoolander                                                                   |Comedy |    3.0|\n|Zoolander                                                                   |Comedy |    4.0|\n:::\n:::\n\n\n# Simple statistical model \nI decided to conduct a simple t test to determine if the mean ratings among movies in each genre are statistically different from one another. I created an object called 'drama' to pull the ratings for movies in the drama genre from the dataframe. I did the same thing for movies in the comedy genre and saved that object as 'comedy'. I used the base R t.test() function to compare the average ratings between the two groups and printed the results. \n\n::: {.cell}\n\n```{.r .cell-code}\ndrama <- mymovies3$rating[mymovies3$genres == \"Drama\"] ##create an object with ratings only for movies in drama genre\ncomedy <- mymovies3$rating[mymovies3$genres == \"Comedy\"] ##create an object with ratings only for movies in comedy genre\nt.test1 <- t.test(drama, comedy) ##run a two-sample t-test between the two numeric vectors\nprint(t.test1) ##show the results of the t-test\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWelch Two Sample t-test\n\ndata:  drama and comedy\nt = 4.6912, df = 279.12, p-value = 4.257e-06\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n 0.3433740 0.8398837\nsample estimates:\nmean of x mean of y \n 3.504000  2.912371 \n```\n:::\n:::\n\n\n# Results of simple statistical model \nAfter running the two-sample t-test, I get a test statistic of 4.6912 with a tiny p-value of 4.257e-06. Since the p-value is much less than 0.05, we can reject the null hypothesis to conclude that there is a statistically significant difference between the mean ratings of drama and comedy movies in 2001. It is clear that movies in the drama genre received higher ratings from viewers compared to movies in the comedy genre in 2001. \n\n",
    "supporting": [
      "coding-exercise_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}